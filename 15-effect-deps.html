<!DOCTYPE html>
<head></head>
<body>
	<div id="root"></div>
	<script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
	<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
	<script crossorigin src="https://unpkg.com/babel-standalone@6.26.0/babel.min.js"></script>
	<script type="text/babel">
		/*
		* Check out NPM eslint-plugin-react-hooks to enforce Rules of Hooks
		*/
		function Greeting() {
			const [name, setName] = React.useState(
					() => window.localStorage.getItem('name') || ''
				);

			React.useEffect(() => {
				console.log('greeting useEffect')
				window.localStorage.setItem('name', name);
			}, [name])

			const handleChange = (event) => setName(event.target.value);

			return (
				<div>
					<form>
						<label htmlFor="name">Name: </label>
						<input
							id="name"
							value={name}
							onChange={handleChange}
						/>
					</form>
					{name ? <strong>Hello {name}</strong> : 'Please type your name'}
				</div>
			)
		}

		function App() {
			const [count, setCount] = React.useState(0)

			return (
				<React.Fragment>
					<button onClick={() => setCount(c => c + 1)}>{count}</button>
					<Greeting />
				</React.Fragment>
			)
		}

		ReactDOM.render(<App />, document.getElementById('root'))
	</script>
</body>
